
@import '../../../shared_scss/colorPalette.scss';

$line-duration :2;
$circle-duation: 1;

@function func_n-1($f) {
    @return $f - 1 ;
    // @return $f - $circle-duation ;

}

@mixin func_a($var){ //3(n-1) 
    animation-delay: #{func_n-1($var)*($line-duration + $circle-duation )}s;
}

@mixin func_b($var) { //3(n-1)+2
    // animation-delay: #{(func_n-1($var)*3)+2}s;
    animation-delay: #{(func_n-1($var)*($line-duration + $circle-duation ))+ $line-duration}s;
}

.main{
    section {
        h2 {
            color: $primary-color;
            font-size: 20px;
        }

        .div-steps{
            .step{
                // background: orange;
                .line{
                    position: relative;
                    width: 100%;
                    height: 6px;
                    border-radius: .3rem;
                    // background: $primary-color;
                    background: $gray-2;
                    margin-left: 60px;
                    margin-right: 60px;
                    // z-index: -99;
                    // margin-right: 12px;
        
                    .fill{
                        height: 100%;
                        width:0;
                        background: $primary-color;
                        border-radius: .3rem; 
                        // transition: all 3s ;
                        cursor: pointer;
                        animation-name: fill;
                        // animation-duration: 2s;
                        animation-duration: #{$line-duration}s;
                        animation-fill-mode: forwards;
                    }
        
                   // @for $i from 2 through 3 {
                        
                    //}
        
                    .circle{
                        position: absolute;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        right: -35px;
                        top: -20.5px;
                        width: 45px;
                        height: 45px;
                        // background: rgba($color: #000000, $alpha: .5);
                        background: $gray-2;
                        color: $black-2;
                        border-radius: 50%;
                        font-weight: bold;
                        font-size: 18px;
                        cursor: pointer;
        
                        background: linear-gradient(to left, $gray-2 50%, $primary-color 50%) right;
                        background-repeat:no-repeat;
                        background-size:200%;
                        // animation: progressbar 1s ease forwards;
                        animation: progressbar #{$circle-duation}s ease-in-out forwards;
                    }
        
                    @keyframes progressbar {
                        100% {
                            background-position: left;
                        }
                        // from { color: green }
                        to   { color: #fff }
                      }
                    
                }
            }
        
            @for $var from 1 to 5 {
                & .step:nth-child(#{$var}){
                    .line{
                        
                        .fill{
                            @include func_a($var);
                        }
                        .circle{
                            @include func_b($var);
                        }
                    } 
                }
            }
        
            @keyframes fill {
                from {width: 0;}
                to {width: 100%;}
              }
        }

        
    }

}

@function set-text-color($color){
    @if (lightness($color) > 70) {
        @return $black-2;
    }@else{
        @return #fff;
    }
}
