<!-- <app-popup-success [message]="'We will send you a password reset link.'"></app-popup-success>
<app-popup-something-wrong [httpError]="isHttpError"></app-popup-something-wrong> -->

<div class="container-fluid main-wrapper">
  <div class="container" style="margin-top: 0px">
    <div class="col-lg-4 m-auto login-form">
      <form action="" #loginForm="ngForm" class="form">
        <div class="avatar"><i class="material-icons">&#xE7FF;</i></div>
        <h4 class="modal-title mb-0">Change password for</h4>
        <h4 class="modal-title">@{{ details["user"] }}</h4>
        <div
          class="alert alert-danger"
          role="alert"
          style="font-size: 15px"
          *ngIf="errorString"
        >
          <span *ngIf="errorStatus == 422">
            It looks like you clicked on an invalid password reset link. Please
            try again or get new reset link.
            <br />
            <a
              style="font-size: 15px; color: #491217"
              routerLink="/forget"
              class="alert-link"
              >Click here.</a
            >
          </span>
          <span *ngIf="errorStatus == 500">
            {{ errorString }}
          </span>
        </div>
        <div
          class="form-group"
          [class.has-danger]="newPassword.invalid && newPassword.touched"
        >
          <label for="">New password</label>
          <input
            type="password"
            class="form-control"
            [(ngModel)]="details['newPassword']"
            name="newPassword"
            #newPassword="ngModel"
            required
          />
          <div
            class="form-control-feedback"
            *ngIf="newPassword.invalid && newPassword.touched"
          >
            <small> New password is required</small>
          </div>
          <span>
            <small>
              Please enter a password at least 8-13 characters and contain at
              least one uppercase, at least one lowercase character, and one
              special character.
            </small>
          </span>
        </div>
        <div
          class="form-group"
          [class.has-danger]="
            confirmPassword.invalid && confirmPassword.touched
          "
        >
          <label for="">Confirm password</label>
          <input
            type="password"
            class="form-control"
            [(ngModel)]="details['confirmPassword']"
            name="confirmPassword"
            #confirmPassword="ngModel"
            required
          />
          <div
            class="form-control-feedback"
            *ngIf="confirmPassword.invalid && confirmPassword.touched"
          >
            <small>Confirm password is required</small>
          </div>
        </div>
        <div class="form-group small clearfix">
          <a routerLink="/login" class="forgot-link">back to login page?</a>
        </div>

        <button
          class="ui button"
          [class.loading]="reqLoading"
          [disabled]="loginForm.invalid || reqLoading"
          (click)="resetPassword()"
        >
          Reset Password
        </button>
        <!-- <button
          class="btn btn-primary btn-block btn-lg"
          style="font-size: 14px"
          [disabled]="loginForm.invalid || reqLoading"
          (click)="resetPassword()"
        >
          <span
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
            *ngIf="reqLoading"
          ></span>
          Chanage Password
        </button> -->
      </form>
    </div>
  </div>
</div>
